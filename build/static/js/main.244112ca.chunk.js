(this.webpackJsonpprojweb2=this.webpackJsonpprojweb2||[]).push([[0],{40:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(11),a=n.n(r),c=(n(40),n(27)),s=n(28),i=n(35),d=n(32),l=n(33),u=n(14),h=n(9),f=n.n(h),p=n(69),m=n(70),v=n(30),g="ADD_REMINDER",b="DELETE_REMINDER",k="CLEAR_REMINDERS",j="http://localhost:8080/",y=n(6),x=n.n(y),O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;return console.log("action in addReminder: ",e,t,n,o,r,a,c),{id:e,type:g,text:t,dueDate:n,timestamp:o,category:r,checked:a,eID:c}},w=function(e){return{type:b,id:e}},D=function(){return console.log("clearReminders called"),{type:k}},C=n(1),N=function(e){var t=Object(l.a)(e),n=t[0],o=t.slice(1),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.language;return n.toLocaleUpperCase(r)+o.join("")},R=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).state={text:"",dueDate:"",category:"",tags:[],checked:0},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.clearReminders(),this.props.fetchTasks()}},{key:"addReminder",value:function(){this.props.addTask(this.state.text,this.state.dueDate,this.state.category),document.querySelectorAll("input").forEach((function(e){return e.value=""}))}},{key:"deleteReminder",value:function(e,t,n){this.props.deleteTask(e,t,n)}},{key:"emptyDB",value:function(){this.props.emptyDB()}},{key:"fetchTasks",value:function(){this.props.fetchTasks()}},{key:"renderReminders",value:function(){var e=this,t=this.props.reminders;return Object(C.jsx)("ul",{className:"list-group",children:t.map((function(t){return Object(C.jsx)("div",{className:"reminder-tasks",children:Object(C.jsxs)("li",{className:"list-group-item reminder-items",children:[Object(C.jsxs)("div",{className:"list-item",children:[t.checked?Object(C.jsx)("div",{style:{textDecorationLine:"line-through"},children:t.text}):Object(C.jsx)("div",{children:t.text}),Object(C.jsxs)("div",{children:[Object(C.jsx)(p.a,{style:{backgroundColor:"#007bff",color:"#fff"},children:f()(new Date(t.dueDate)).subtract(1,"M").fromNow()}),Object(C.jsx)(p.a,{color:"info",style:{backgroundColor:"#2ecc71",color:"#fff",marginLeft:"5px"},children:N(t.category)}),Object(C.jsxs)(p.a,{style:{backgroundColor:"#dc3545",color:"#fff",marginLeft:"5px"},children:["Created at: ",f()(new Date(t.timestamp)).format("DD/MM/YYYY")]})]})]}),Object(C.jsx)("div",{className:"list-item delete-button",onClick:function(){return e.deleteReminder(t.id,t.text,t.eID)},children:"\u2715"})]},t.id)},Math.floor(100*Math.random()))}))})}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)("div",{className:"sandbox sandbox-correct-pronounciation",children:Object(C.jsx)("h1",{className:"heading heading-correct-pronounciation",children:Object(C.jsx)("var",{style:{textTransform:"none"},children:"Tasse de Th\xe9"})})}),Object(C.jsxs)("div",{className:"form-inline reminder-form",children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("input",{className:"form-control",placeholder:"I have to...",onChange:function(t){return e.setState({text:t.target.value})}}),Object(C.jsx)("input",{className:"form-control",placeholder:"Category",onChange:function(t){return e.setState({category:t.target.value})}}),Object(C.jsx)("input",{className:"form-control",type:"datetime-local",onChange:function(t){return e.setState({dueDate:t.target.value})}})]}),Object(C.jsx)(m.a,{type:"button",className:"btn btn-success",onClick:function(){return e.addReminder()},children:"Add Reminder"}),Object(C.jsx)("div",{className:"btn btn-danger",onClick:function(){return e.props.emptyDB()},children:"Clear reminders"}),this.renderReminders()]})]})}}]),n}(o.Component);var T=Object(u.b)((function(e){return{reminders:e}}),{addReminder:O,deleteReminder:w,clearReminders:D,emptyDB:function(){return function(e){return x.a.post("http://localhost:8080/tasks/delete").then((function(t){var n=t.data;200!==n.code?console.error("Error: ",n.response," ",n.body):(console.log("axios response: ",n),e(D()))}))}},fetchTasks:function(){return function(e){return x.a.get("http://localhost:8080/tasks/all").then((function(t){var n=t.data;if(n){var o,r=Object(v.a)(n);try{for(r.s();!(o=r.n()).done;){var a=o.value;console.log("record: ",a);var c=new Date(a.taskYear,a.taskMonth,a.taskDay,a.taskHour,a.taskMinute,a.taskSecond).toISOString(),s=a.task,i=a.timestamp,d=a.category,l=a.taskChecked,u=a.eID;e(O(a.id,s,c,i,d,l,u))}}catch(h){r.e(h)}finally{r.f()}}else console.error("Error: ",n)}))}},addTask:function(e,t,n){var o={"Content-Type":"application/json"},r=f()(new Date(t)),a=r.date(),c=r.month()+1,s=r.year(),i=r.hour(),d=r.minute(),l=r.second();console.log("addTask called! ");return function(t){return x()({method:"post",url:"http://localhost:8080/task/add",headers:o,data:[{content:e,category:n,taskChecked:0,taskYear:s,taskMonth:c,taskDay:a,taskPriority:0,tid:Math.floor(950*Math.random()),taskHour:i,taskMinute:d,taskSecond:l}]}).then((function(e){var n=e.data;console.log("addTask axios response: ",n),200===n.code&&"success"===n.response&&(console.log("task added successfully!"),console.log(n.body[0],n.body[1],n.body[2],n.body[3],n.body[4]),t(O(n.body[0],n.body[1],n.body[2],n.body[3],n.body[4],0)))}))}},deleteTask:function(e,t,n){var o=j+"task/delete/"+e+"/"+n;return function(n){return x()({method:"delete",url:o,data:{task:t}}).then((function(t){var o=t.data;"success"===o.response&&200===o.code&&n(w(e))}))}}})(R),E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),a(e),c(e)}))},I=n(8),L=n(31),A=n(34),W=function(e){return{id:e.id,text:e.text,dueDate:e.dueDate,timestamp:e.timestamp,category:e.category,checked:e.checked,eID:e.eID}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return e.id!==t}))},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=null;switch(t.type){case g:return n=[].concat(Object(A.a)(e),[W(t)]),n;case b:return n=B(e,t.id),n;case k:return n=[],n;default:return e}},P=Object(I.c)(Y,Object(I.a)(L.a));window.store=P;var F=P;a.a.render(Object(C.jsx)(u.a,{store:F,children:Object(C.jsx)(T,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):M(t,e)}))}}(),S()}},[[67,1,2]]]);
//# sourceMappingURL=main.244112ca.chunk.js.map